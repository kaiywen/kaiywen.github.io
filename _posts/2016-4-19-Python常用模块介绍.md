---
layout:     post
title:      "Python常用模块记录"
subtitle:   ""
date:       2016-4-19
author:     "YuanBao"
header-img: "img/post-python.jpg"
header-mask: 0.25
catalog: true
tags:
 - programming
 - python
---

>什么是常用函数？经常使用又经常忘记的函数就是常用函数。

下图中展示了本文内容的脉络：

![](/img/PythonPopularFunc.png){: width="500px" height="400px" }

## itertools -- 控制迭代的模块

有句话说，当你想针对迭代器做某些操作的时候，你就应该去看看itertools模块中是不是有你想用的功能。如果有也相应的功能，就不要重复造轮子了，因为你实现的百分之99.99没有itertools的效率高。itertools模块内的函数（或者类）都非常常用，这里只是介绍几个作为代表：

* **`chain(iter1, iter2, ...)`**：将多个迭代器连接起来，生成一个大的迭代器（使用`yield from`也可以实现类似的功能）
* **`dropwhile(callable, iter)`**：该函数从迭代器`iter`头反复调用callable函数，丢弃掉所有满足条件的元素，直到遇到第一个不满足条件的元素。

通过一个例子来更好地解释`dropwhile`的功能。假如你有一个文件，文件开头有几行使用"##"开始的注释，那么你可以使用下面的代码跳过这几行注释：

```python
from itertools import dropwhile

with open('/etc/passwd') as f:
    for line in dropwhile(lambda line: line.startswith('##'), f):
        print(line, end='')
```

你可能会觉得`dropwhile`的功能与列表推倒以及过滤比较相似。实际上它们逻辑并不相同，列表推倒过滤可以过滤到整个迭代器中的元素，而`dropwhile`则只考虑列表头部。下面这个例子可以清楚地说明这个情况：

```python
patterns = ["xxb", "xxc", "cbc", "xxd", "xxe"]

res1 = [p for p in patterns if not p.startswith("xx")]
res2 = list(dropwhile(lambda p: p.startswith("xx"), patterns))

#########################
res1 = ['cbc']
res2 = ['cbc', 'xxd', 'xxe']
```

* **`islice`**：给迭代器赋予切片的功能。正常情况下，迭代器是不能进行切片操作的，但是使用通过使用`islice`可以实现迭代器的切片操作。例如：

```python
from itertools import islice

def range_iter(begin, end):
    if begin < end:
        yield begin
        begin += 1

items = range_iter(0, 10)

for x in islice(items, 3, None):
    print(x) 
```

注意`islice`函数和`dropwhile`函数的应用场景是不同的。`izip`函数需要你清楚的知道，你应该从哪个位置开始操作迭代器，而`dropwhile`则以一种更加抽象的方式帮你筛选掉迭代器头部的某些元素。

* **`izip`以及`longest_izip`**：针对迭代器实现`zip`的功能和`longest_zip`的功能。这个很好理解，不多说。

## operator模块

## collections模块

## callable对象